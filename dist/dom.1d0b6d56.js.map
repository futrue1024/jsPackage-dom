{"version":3,"sources":["dom.js"],"names":["window","dom","create","string","div","document","createElement","innerHTML","trim","content","firstChild","after","node","newNode","parentNode","insertBefore","nextSibling","before","append","parent","child","appendChild","wrap","newParent","remove","removeChild","empty","arr","x","push","attr","name","value","arguments","length","setAttribute","getAttribute","text","innerText","textContent","html","innerHTMl","style","Object","key","class","add","classList","has","contains","on","event","fn","addEventListener","off","removeEventListener","find","selector","scope","querySelectorAll","children","sibling","Array","from","filter","n","next","nodeType","previous","previousSibling","each","nodeList","i","call","index","list"],"mappings":"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","file":"dom.1d0b6d56.js","sourceRoot":"..","sourcesContent":["window.dom = {\r\n  create(string) {\r\n    const div = document.createElement(\"template\");\r\n    div.innerHTML = string.trim();\r\n    return div.content.firstChild;\r\n  }, //创建一个节点\r\n  after(node, newNode) {\r\n    node.parentNode.insertBefore(newNode, node.nextSibling);\r\n  }, //在节点之前增加一个同级节点\r\n  before(node, newNode) {\r\n    node.parentNode.insertBefore(newNode, node);\r\n  }, //在节点之后增加一个同级节点\r\n  append(parent, child) {\r\n    parent.appendChild(child);\r\n  }, //在节点之前增加一个父级节点\r\n  wrap(node, newParent) {\r\n    node.before(node, newParent);\r\n    node.append(newParent, node);\r\n  },\r\n  remove(node) {\r\n    node.parentNode.removeChild(node);\r\n    return node; //将node返回方便以后调用\r\n  },\r\n  empty(node) {\r\n    const arr = [];\r\n    let x = node.firstChild;\r\n    while (x) {\r\n      //不能使用for循环是因为for循环需要以子代长度为条件，但是循环时长度是实时改变的。\r\n      arr.push(dom.remove(x));\r\n      x = node.firstChild;\r\n    }\r\n    return arr;\r\n  },\r\n  attr(node, name, value) {\r\n    //读、改、增某属性\r\n    if (arguments.length === 3) {\r\n      //改或增\r\n      node.setAttribute(name, value);\r\n    } else if (arguments.length === 2) {\r\n      //读属性\r\n      return node.getAttribute(name);\r\n    }\r\n  },\r\n  text(node, string) {\r\n    if (arguments.length === 2) {\r\n      if (\"innerText\" in node) {\r\n        node.innerText = string;\r\n      } else {\r\n        node.textContent = string;\r\n      }\r\n    } else if (arguments.length === 1) {\r\n      if (\"innerText\" in node) {\r\n        return node.innerText;\r\n      } else {\r\n        return node.textContent;\r\n      }\r\n    }\r\n  },\r\n  html(node, string) {\r\n    if (arguments.length === 2) {\r\n      node.innerHTML = string;\r\n    } else if (arguments.length === 1) {\r\n      return node.innerHTMl;\r\n    }\r\n  },\r\n  style(node, name, value) {\r\n    if (arguments.length === 3) {\r\n      //如果dom.style(div,'color','red')\r\n      node.style[name] = value;\r\n    } else if (arguments.length === 2) {\r\n      if (typeof name === \"string\") {\r\n        //如果dom.style(div,'color')读某一属性\r\n        return node.style[name];\r\n      } else if (name instanceof Object) {\r\n        //确定name是不是为字符串\r\n        for (let key in name) {\r\n          //正常是dom.style.border = '1px solid red'\r\n          //因为现在不知道样式名，所以要先遍历name中的样式名\r\n          //并将每个样式名赋值到标签上\r\n          node.style[key] = name[key];\r\n        }\r\n      }\r\n    }\r\n  },\r\n  class: {\r\n    add(node, name) {\r\n      node.classList.add(name);\r\n    },\r\n    remove(node, name) {\r\n      node.classList.remove(name);\r\n    },\r\n    has(node, name) {\r\n      node.classList.contains(name);\r\n    },\r\n  },\r\n  on(node, event, fn) {\r\n    node.addEventListener(event, fn);\r\n    //在某个节点上添加事件，并接受事件函数\r\n  },\r\n  off(node, event, fn) {\r\n    node.removeEventListener(event, fn);\r\n    //注意第二个参数要将函数先声明在引用，直接将函数写在第二个参数内无效。\r\n  },\r\n  find(selector, scope) {\r\n    //选择器名称，搜索范围\r\n    return (scope || document).querySelectorAll(selector);\r\n    //只有一个参数是则全局找，两个参数是划定范围找\r\n    //返回所有选择器相同的标签\r\n  },\r\n  parent(node) {\r\n    return node.parentNode;\r\n  },\r\n  children(node) {\r\n    return node.children;\r\n  },\r\n  sibling(node) {\r\n    return Array.from(node.parentNode.children).filter((n) => n != node);\r\n  },\r\n  next(node) {\r\n    //不能直接返回node.nextSibling，因为返回的可能为文本节点\r\n    let x = node.nextSibling;\r\n    while (x && x.nodeType === 3) {\r\n      //判断如果x存在且x类型为文本\r\n      x = x.nextSibling;\r\n      //条件成立就将循环判断再下一个类型并赋值。\r\n    }\r\n    return x;\r\n    //得到节点并返回\r\n  },\r\n  previous(node) {\r\n    //不能直接返回node.nextSibling，因为返回的可能为文本节点\r\n    let x = node.previousSibling;\r\n    while (x && x.nodeType === 3) {\r\n      //判断如果x存在且x类型为文本\r\n      x = x.previousSibling;\r\n      //条件成立就将循环判断再下一个类型并赋值。\r\n    }\r\n    return x;\r\n    //得到节点并返回\r\n  },\r\n  each(nodeList, fn) {\r\n    //遍历所有相同的节点并调用一个函数操作这些节点\r\n    for (let i = 0; i < nodeList.length; i++) {\r\n      fn.call(null, nodeList[i]);\r\n    }\r\n  },\r\n  index(node) {\r\n    let list = dom.children(node.parentNode);\r\n    let i; //因为要在for循环外返还i，所以不能再for循环条件内定义i。\r\n    for (i = 0; i < list.length; i++) {\r\n      if (list[i] === node) {\r\n        //如果相同跳出循环\r\n        break;\r\n      }\r\n    }\r\n    return i;\r\n  },\r\n};\r\n"]}